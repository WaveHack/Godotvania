[gd_scene load_steps=47 format=2]

[ext_resource path="res://Scenes/GameScene.gd" type="Script" id=1]
[ext_resource path="res://Graphics/Tilesets/CV1LV1.png" type="Texture" id=2]
[ext_resource path="res://Scripts/Player.gd" type="Script" id=3]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Taunt.png" type="Texture" id=4]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Jumpkick.png" type="Texture" id=5]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Stand.png" type="Texture" id=6]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Slide.png" type="Texture" id=7]
[ext_resource path="res://Graphics/Sprites/Players/Simon/JumpkickDiagonal.png" type="Texture" id=8]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Backdash.png" type="Texture" id=9]
[ext_resource path="res://Graphics/Sprites/Players/Simon/AttackCrouch0001.png" type="Texture" id=10]
[ext_resource path="res://Graphics/Sprites/Players/Simon/AttackCrouch0002.png" type="Texture" id=11]
[ext_resource path="res://Graphics/Sprites/Players/Simon/AttackCrouch0003.png" type="Texture" id=12]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Attack0001.png" type="Texture" id=13]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Attack0002.png" type="Texture" id=14]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Attack0003.png" type="Texture" id=15]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Crouch.png" type="Texture" id=16]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Walk0001.png" type="Texture" id=17]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Walk0002.png" type="Texture" id=18]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Fall0001.png" type="Texture" id=19]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Weapons/LeatherWhip0001.png" type="Texture" id=20]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Weapons/LeatherWhip0002.png" type="Texture" id=21]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Weapons/LeatherWhip0003.png" type="Texture" id=22]
[ext_resource path="res://Graphics/Sprites/Players/Simon/Fall0002.png" type="Texture" id=23]

[sub_resource type="ConvexPolygonShape2D" id=1]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=8]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=9]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=10]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=11]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=12]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=13]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=14]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=17]
points = PoolVector2Array( 16, 16, 0, 16, 0, 8, 16, 8 )

[sub_resource type="TileSet" id=18]
0/name = "CV1LV1.png 0"
0/texture = ExtResource( 2 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 320, 208 )
0/tile_mode = 2
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 16, 16 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shapes = [ {
"autotile_coord": Vector2( 0, 8 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 1 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 8 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 4 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 5 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 5 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 6 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 6 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 8 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 6 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 9 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 5 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 10 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 4 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 11 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 12 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 13 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 8, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 14 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 8, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 17 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[sub_resource type="SpriteFrames" id=19]
animations = [ {
"frames": [ ExtResource( 19 ), ExtResource( 23 ) ],
"loop": false,
"name": "Fall",
"speed": 3.0
}, {
"frames": [ ExtResource( 4 ) ],
"loop": true,
"name": "Taunt",
"speed": 5.0
}, {
"frames": [ ExtResource( 8 ) ],
"loop": true,
"name": "JumpkickDiagonal",
"speed": 5.0
}, {
"frames": [ ExtResource( 7 ) ],
"loop": true,
"name": "Slide",
"speed": 5.0
}, {
"frames": [ ExtResource( 9 ) ],
"loop": true,
"name": "Backdash",
"speed": 5.0
}, {
"frames": [ ExtResource( 17 ), ExtResource( 18 ), ExtResource( 17 ), ExtResource( 6 ) ],
"loop": true,
"name": "Walk",
"speed": 10.0
}, {
"frames": [ ExtResource( 6 ) ],
"loop": true,
"name": "Stand",
"speed": 5.0
}, {
"frames": [ ExtResource( 16 ) ],
"loop": true,
"name": "Crouch",
"speed": 5.0
}, {
"frames": [ ExtResource( 5 ) ],
"loop": true,
"name": "Jumpkick",
"speed": 5.0
}, {
"frames": [ ExtResource( 13 ), ExtResource( 14 ), ExtResource( 15 ) ],
"loop": false,
"name": "Attack",
"speed": 10.0
}, {
"frames": [ ExtResource( 10 ), ExtResource( 11 ), ExtResource( 12 ) ],
"loop": false,
"name": "AttackCrouch",
"speed": 10.0
} ]

[sub_resource type="RectangleShape2D" id=20]
extents = Vector2( 5, 14 )

[sub_resource type="SpriteFrames" id=23]
animations = [ {
"frames": [ ExtResource( 20 ), ExtResource( 21 ), ExtResource( 22 ), ExtResource( 22 ) ],
"loop": false,
"name": "Leather Whip",
"speed": 10.0
} ]

[sub_resource type="RectangleShape2D" id=24]
extents = Vector2( 11, 4 )

[sub_resource type="GDScript" id=25]
script/source = "extends CollisionShape2D

func _process(delta):
	update() # force redraw


func _draw():
	var weapon_animation : AnimatedSprite = get_parent().get_parent().get_node(\"Animator\")

	if weapon_animation.frame >= 2:
		draw_rect(Rect2(Vector2(-11, -4), Vector2(22, 8)), Color(1, 0, 0, 0.5))
"

[node name="GameScene" type="Node2D"]
script = ExtResource( 1 )

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2( 160, 90 )
current = true
zoom = Vector2( 0.25, 0.25 )

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource( 18 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 65536, 536870912, 131078, 65537, 536870912, 131078, 131072, 536870912, 262151, 131073, 536870912, 262150, 196608, 536870912, 327687, 196609, 536870912, 327686, 262144, 536870912, 262151, 262145, 536870912, 262150, 262163, 536870912, 524288, 327680, 536870912, 327687, 327681, 536870912, 327686, 327699, 536870912, 524288, 393216, 536870912, 393223, 393217, 536870912, 393222, 393234, 536870912, 524288, 393235, 536870912, 524288, 458752, 536870912, 458759, 458753, 536870912, 458758, 458755, 0, 327680, 458756, 0, 327681, 458769, 536870912, 524288, 458770, 536870912, 524288, 458771, 536870912, 524288, 524288, 536870912, 524295, 524289, 536870912, 589832, 524290, 0, 458753, 524291, 0, 393216, 524292, 0, 393217, 524293, 0, 458753, 524294, 0, 458753, 524299, 0, 458753, 524300, 0, 458753, 524303, 536870912, 524288, 524304, 536870912, 524288, 524305, 536870912, 524288, 524306, 536870912, 524288, 524307, 536870912, 524288, 589824, 536870912, 524288, 589825, 536870912, 524288, 589826, 536870912, 524288, 589827, 536870912, 524288, 589828, 536870912, 524288, 589829, 536870912, 524288, 589830, 0, 524288, 589831, 0, 524288, 589832, 0, 524288, 589833, 0, 524288, 589834, 0, 524288, 589835, 0, 524288, 589836, 0, 524288, 589837, 0, 524288, 589838, 0, 524288, 589839, 0, 524288, 589840, 0, 524288, 589841, 0, 524288, 589842, 0, 524288, 589843, 0, 524288 )

[node name="Player" type="KinematicBody2D" parent="."]
position = Vector2( 132.549, 24.364 )
script = ExtResource( 3 )
__meta__ = {
"_edit_group_": true
}

[node name="Animator" type="AnimatedSprite" parent="Player"]
frames = SubResource( 19 )
animation = "Fall"
frame = 1

[node name="Collision" type="CollisionShape2D" parent="Player"]
position = Vector2( 0, 2 )
shape = SubResource( 20 )

[node name="Emitters" type="Node2D" parent="Player"]
position = Vector2( 0, 16 )

[node name="Timers" type="Node" parent="Player"]

[node name="LandingTimer" type="Timer" parent="Player/Timers"]
process_mode = 0
wait_time = 0.4
one_shot = true

[node name="Weapon" type="Node2D" parent="Player"]
visible = false

[node name="Animator" type="AnimatedSprite" parent="Player/Weapon"]
position = Vector2( 6, 0 )
frames = SubResource( 23 )
animation = "Leather Whip"
frame = 2

[node name="Area2D" type="Area2D" parent="Player/Weapon"]
position = Vector2( 25, -4 )

[node name="Collision" type="CollisionShape2D" parent="Player/Weapon/Area2D"]
shape = SubResource( 24 )
script = SubResource( 25 )
